<!doctype html>
<html lang="en">

<head>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>Ajax tolls </title>

    <style>
        table,
        th,
        td {
            border: 3px solid rgb(236, 156, 156);
        }
    </style>
    <link rel="stylesheet" href="styleget.css">
</head>

<body>
    <h1>Hello Node world!</h1>

    <button type="button" id="fetchbutton" class="btn btn-primary" onclick="getData()">fetch data</button>
    
    <button type="button" id="backupbutton" class="btn btn-secondary">backup data </button>

    <label for="inputPassword5" class="form-label">Get</label>
    <input type="get" id="inputPassword5" class="form-control" aria-describedby="passwordHelpBlock">
    <div id="passwordHelpBlock" class="form-text"></div>
    <button type="button" id="getallbutton" class="btn btn-primary" onclick="allData()">getall data</button>
    <label for="inputPassword5" class="form-label">getall </label>
    <div id="passwordHelpBlock" class="form-text"></div>
    <input type="password" id="inputPassword5" class="form-control" aria-describedby="passwordHelpBlock">

    <label for="inputPassword5" class="form-label">SAVE</label>
    <input type="password" id="inputPassword5" class="form-control" aria-describedby="passwordHelpBlock">
    <div id="passwordHelpBlock" class="form-text"></div>

    <table id="myTable">
        <tr>
            <td>Row1 cell1</td>
            <td>Row1 cell2</td>
        </tr>
        <tr>
            <td>Row2 cell1</td>
            <td>Row2 cell2</td>
        </tr>
        <tr>
            <td>Row3 cell1</td>
            <td>Row3 cell2</td>
        </tr>
    </table>
    <br>

    <button type="button" onclick="myFunction()">click me</button>

    <script>
        function myFunction() {
            var table = document.getElementById("myTable");
            var row = table.insertRow(0);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            cell1.innerHTML = "NEW ID1";
            cell2.innerHTML = "NEW ID2";
        }
    </script>


    <script>
        function getData() {

            var idObject = document.getElementById("inputPassword5");
            var value = idObject.value;
            // Creating Our XMLHttpRequest object
            var xhr = new XMLHttpRequest();
            // Making our connection 
            var url = '/getData?docId=' + value;

            xhr.open("GET", url);
            //  xhr.setRequestHeader("Authorization", "Basic " + btoa("saurabh:rajukumar@123"));
            xhr.send();
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    alert(this.responseText);
                }
                else {
                    console.log(this.responseText);
                }
            }
            // Sending our request

        }
        function setData() {
            alert("this is setData");
        }

    </script>

    <script>
        function postdata() {
            var idObject = document.getElementById("inputPassword5");
            var value = idObject.value;

            var xhr = new XMLHttpRequest();
            var url = '/postdata' + value;
            xhr.open("post", url)
            xhr.send();
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    alert(this.responseText);
                }
                else {
                    console.log(this.responseText);
                }
            }
            //post request     
        }
        function postdata() {
            alert("this is postdata");
        }

    </script>

    <script>
        function allData() {

            var idObject = document.getElementById("inputPassword5");
            //var value = idObject.value;
            // Creating Our XMLHttpRequest object
            var xhr = new XMLHttpRequest();
            // Making our connection 
            var url = '/allData';

            xhr.open("GET", url);
            //  xhr.setRequestHeader("Authorization", "Basic " + btoa("saurabh:rajukumar@123"));
            xhr.send();
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    alert(this.responseText);
                }
                else {
                    console.log(this.responseText);
                }
            }
            // Sending our request

        }
    </script>
</body >
</html >
